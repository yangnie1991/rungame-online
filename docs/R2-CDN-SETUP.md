# Cloudflare R2 å­˜å‚¨é…ç½®æŒ‡å—

æœ¬æ–‡æ¡£æä¾› Cloudflare R2 å¯¹è±¡å­˜å‚¨æœåŠ¡çš„å®Œæ•´é…ç½®æŒ‡å—ï¼Œç”¨äºå­˜å‚¨æ¸¸æˆç¼©ç•¥å›¾ã€åˆ†ç±»å›¾æ ‡ã€æ¨ªå¹…ç­‰é™æ€èµ„æºã€‚

---

## ğŸ“‹ ç›®å½•

1. [ä¸ºä»€ä¹ˆä½¿ç”¨ R2](#ä¸ºä»€ä¹ˆä½¿ç”¨-r2)
2. [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
3. [åˆ›å»º R2 Bucket](#åˆ›å»º-r2-bucket)
4. [ç”Ÿæˆ API Token](#ç”Ÿæˆ-api-token)
5. [é…ç½®ç¯å¢ƒå˜é‡](#é…ç½®ç¯å¢ƒå˜é‡)
6. [æµ‹è¯•ä¸Šä¼ åŠŸèƒ½](#æµ‹è¯•ä¸Šä¼ åŠŸèƒ½)
7. [è‡ªå®šä¹‰åŸŸåé…ç½®](#è‡ªå®šä¹‰åŸŸåé…ç½®-å¯é€‰)
8. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## ä¸ºä»€ä¹ˆä½¿ç”¨ R2

### ä¼˜åŠ¿

- âœ… **é›¶å‡ºå£è´¹ç”¨** - ä» R2 è·å–æ•°æ®å®Œå…¨å…è´¹
- âœ… **S3 å…¼å®¹ API** - æ— ç¼å…¼å®¹ AWS S3 SDK
- âœ… **å…¨çƒ CDN** - è‡ªåŠ¨é€šè¿‡ Cloudflare CDN åŠ é€Ÿ
- âœ… **ä»·æ ¼ä¼˜åŠ¿** - å­˜å‚¨è´¹ç”¨ $0.015/GB/æœˆï¼ˆè¿œä½äº S3ï¼‰
- âœ… **ç®€å•æ˜“ç”¨** - æ— éœ€é…ç½®å¤æ‚çš„ bucket ç­–ç•¥

### ä½¿ç”¨åœºæ™¯

æœ¬é¡¹ç›®ä¸­ï¼ŒR2 ç”¨äºå­˜å‚¨ï¼š
- ğŸ® æ¸¸æˆç¼©ç•¥å›¾ (`images/misc/`)
- ğŸ¨ åˆ†ç±»å›¾æ ‡ (`images/categories/`)
- ğŸ–¼ï¸ æ¨ªå¹…å›¾ç‰‡ (`images/banners/`)
- ğŸ‘¤ ç”¨æˆ·å¤´åƒ (`images/avatars/`)

---

## å‰ç½®è¦æ±‚

- Cloudflare è´¦æˆ·ï¼ˆå…è´¹æ³¨å†Œï¼šhttps://dash.cloudflare.com/sign-upï¼‰
- å·²éªŒè¯çš„æ”¯ä»˜æ–¹å¼ï¼ˆR2 éœ€è¦ç»‘å®šæ”¯ä»˜æ–¹å¼ï¼Œä½†æœ‰å…è´¹é¢åº¦ï¼‰

### R2 å…è´¹é¢åº¦

- **å­˜å‚¨ç©ºé—´**: 10 GB/æœˆ
- **A ç±»æ“ä½œ** (å†™å…¥): 100 ä¸‡æ¬¡/æœˆ
- **B ç±»æ“ä½œ** (è¯»å–): 1000 ä¸‡æ¬¡/æœˆ

å¯¹äºä¸­å°å‹é¡¹ç›®ï¼Œå…è´¹é¢åº¦é€šå¸¸è¶³å¤Ÿä½¿ç”¨ã€‚

---

## åˆ›å»º R2 Bucket

### æ­¥éª¤ 1: è¿›å…¥ R2 æ§åˆ¶å°

1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. åœ¨å·¦ä¾§èœå•ä¸­ï¼Œç‚¹å‡» **R2**
3. å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œç‚¹å‡» **Purchase R2 Plan**ï¼ˆä¸ç”¨æ‹…å¿ƒï¼Œæœ‰å…è´¹é¢åº¦ï¼‰

### æ­¥éª¤ 2: åˆ›å»º Bucket

1. ç‚¹å‡» **Create bucket**
2. å¡«å†™ Bucket é…ç½®ï¼š
   - **Bucket name**: `game-onilne` ï¼ˆæ‚¨çš„ bucket åç§°ï¼‰
   - **Location**: é€‰æ‹© **Automatic**ï¼ˆè‡ªåŠ¨é€‰æ‹©æœ€ä½³ä½ç½®ï¼‰
3. ç‚¹å‡» **Create bucket**

### æ­¥éª¤ 3: é…ç½®å…¬å¼€è®¿é—®

R2 é»˜è®¤æ˜¯ç§æœ‰çš„ï¼Œéœ€è¦é…ç½®å…¬å¼€è®¿é—®ï¼š

1. è¿›å…¥åˆšåˆ›å»ºçš„ bucket
2. ç‚¹å‡» **Settings** æ ‡ç­¾
3. åœ¨ **Public access** éƒ¨åˆ†ï¼š
   - å¯ç”¨ **Allow Access**
   - ä¼šç”Ÿæˆä¸€ä¸ªå…¬å¼€åŸŸåï¼Œæ ¼å¼ä¸ºï¼š`pub-{RANDOM_ID}.r2.dev`
   - è®°å½•è¿™ä¸ªåŸŸåï¼Œç¨åé…ç½®ç¯å¢ƒå˜é‡æ—¶ä¼šç”¨åˆ°

---

## ç”Ÿæˆ API Token

### æ­¥éª¤ 1: åˆ›å»º API Token

1. åœ¨ R2 æ§åˆ¶å°ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ **Manage R2 API Tokens**
2. ç‚¹å‡» **Create API Token**
3. é…ç½® Tokenï¼š
   - **Token name**: `rungame-upload`ï¼ˆè‡ªå®šä¹‰åç§°ï¼‰
   - **Permissions**:
     - âœ… **Object Read & Write** ï¼ˆè¯»å†™æƒé™ï¼‰
   - **Bucket**: é€‰æ‹© `game-onilne`ï¼ˆæˆ–ä½ çš„ bucket åç§°ï¼‰
   - **TTL**: é€‰æ‹© **Forever**ï¼ˆæ°¸ä¸è¿‡æœŸï¼‰æˆ–è‡ªå®šä¹‰è¿‡æœŸæ—¶é—´
4. ç‚¹å‡» **Create API Token**

### æ­¥éª¤ 2: ä¿å­˜å‡­æ®

åˆ›å»ºæˆåŠŸåï¼Œä¼šæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼ˆ**åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å¦¥å–„ä¿å­˜**ï¼‰ï¼š

```
Access Key ID: abc123def456...
Secret Access Key: xyz789uvw012...
```

âš ï¸ **é‡è¦**: Secret Access Key åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·ç«‹å³å¤åˆ¶ä¿å­˜ï¼

### æ­¥éª¤ 3: è·å– Account ID

1. åœ¨ Cloudflare Dashboard å³ä¾§ï¼Œæ‰¾åˆ° **Account ID**
2. æˆ–è€…ä» S3 API ç«¯ç‚¹ä¸­æå–ï¼ˆæ ¼å¼: `https://{ACCOUNT_ID}.r2.cloudflarestorage.com`ï¼‰

ç¤ºä¾‹ï¼š
- S3 ç«¯ç‚¹: `https://850a4ffd2f94c4d6840b62b3aa0219ce.r2.cloudflarestorage.com`
- Account ID: `850a4ffd2f94c4d6840b62b3aa0219ce`

---

## é…ç½®ç¯å¢ƒå˜é‡

### æ­¥éª¤ 1: åˆ›å»º .env æ–‡ä»¶

å¦‚æœè¿˜æ²¡æœ‰ `.env` æ–‡ä»¶ï¼Œä»ç¤ºä¾‹æ–‡ä»¶å¤åˆ¶ï¼š

```bash
cp .env.example .env
```

### æ­¥éª¤ 2: å¡«å†™ R2 é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ° R2 é…ç½®éƒ¨åˆ†å¹¶å¡«å†™ï¼š

```env
# Cloudflare R2 é…ç½®
R2_ACCOUNT_ID="850a4ffd2f94c4d6840b62b3aa0219ce"  # ä½ çš„ Account ID
R2_ACCESS_KEY_ID="abc123def456..."  # ä» API Token è·å–
R2_SECRET_ACCESS_KEY="xyz789uvw012..."  # ä» API Token è·å–
R2_BUCKET_NAME="game-onilne"  # ä½ çš„ bucket åç§°
# R2_PUBLIC_URL ç•™ç©ºå°†è‡ªåŠ¨ä½¿ç”¨ pub-{ACCOUNT_ID}.r2.dev åŸŸå
# å¦‚æœé…ç½®äº†è‡ªå®šä¹‰åŸŸåï¼Œè¯·å¡«å†™: R2_PUBLIC_URL="https://cdn.yourdomain.com"
```

### æ­¥éª¤ 3: é‡å¯åº”ç”¨

```bash
npm run dev
```

---

## æµ‹è¯•ä¸Šä¼ åŠŸèƒ½

### æ–¹å¼ 1: é€šè¿‡ç®¡ç†åå°æµ‹è¯•

1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨: `npm run dev`
2. è®¿é—® http://localhost:3000/login
3. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ï¼ˆé»˜è®¤: admin@rungame.online / admin123ï¼‰
4. è¿›å…¥ä»»æ„ç®¡ç†é¡µé¢ï¼š
   - **åˆ†ç±»ç®¡ç†** â†’ åˆ›å»º/ç¼–è¾‘åˆ†ç±» â†’ ä¸Šä¼ å›¾æ ‡
   - **æ ‡ç­¾ç®¡ç†** â†’ åˆ›å»º/ç¼–è¾‘æ ‡ç­¾ â†’ ä¸Šä¼ å›¾æ ‡
   - **æ¸¸æˆç®¡ç†** â†’ åˆ›å»º/ç¼–è¾‘æ¸¸æˆ â†’ ä¸Šä¼ ç¼©ç•¥å›¾

### æ–¹å¼ 2: ä½¿ç”¨ API æµ‹è¯•

åˆ›å»ºæµ‹è¯•æ–‡ä»¶ `scripts/test-r2-upload.ts`:

```typescript
import { uploadToR2 } from '@/lib/r2-upload'
import fs from 'fs'

async function testUpload() {
  try {
    // è¯»å–æµ‹è¯•å›¾ç‰‡
    const testImage = fs.readFileSync('public/logo.png')

    // ä¸Šä¼ åˆ° R2
    const result = await uploadToR2({
      key: 'test/test-image.png',
      body: testImage,
      contentType: 'image/png',
    })

    console.log('âœ… ä¸Šä¼ æˆåŠŸ!')
    console.log('URL:', result.url)
    console.log('Key:', result.key)
    console.log('Size:', result.size)
  } catch (error) {
    console.error('âŒ ä¸Šä¼ å¤±è´¥:', error)
  }
}

testUpload()
```

è¿è¡Œæµ‹è¯•:

```bash
npx tsx scripts/test-r2-upload.ts
```

---

## è‡ªå®šä¹‰åŸŸåé…ç½® (å¯é€‰)

ä½¿ç”¨è‡ªå®šä¹‰åŸŸåæ›¿ä»£é»˜è®¤çš„ `pub-*.r2.dev` åŸŸåã€‚

### ä¼˜åŠ¿

- âœ… å“ç‰ŒåŒ– URL (å¦‚ `cdn.yourdomain.com`)
- âœ… æ›´å¥½çš„ SEO
- âœ… çµæ´»çš„ç¼“å­˜æ§åˆ¶

### æ­¥éª¤ 1: åœ¨ Cloudflare æ·»åŠ åŸŸå

1. ç¡®ä¿ä½ çš„åŸŸåå·²åœ¨ Cloudflare ç®¡ç†ï¼ˆå¦‚æœä¸æ˜¯ï¼Œéœ€è¦å…ˆå°† DNS è½¬ç§»åˆ° Cloudflareï¼‰
2. è¿›å…¥ R2 bucket çš„ **Settings** é¡µé¢
3. åœ¨ **Custom Domains** éƒ¨åˆ†ï¼Œç‚¹å‡» **Connect Domain**
4. è¾“å…¥å­åŸŸåï¼ˆå¦‚ `cdn.yourdomain.com`ï¼‰
5. Cloudflare ä¼šè‡ªåŠ¨åˆ›å»º CNAME è®°å½•

### æ­¥éª¤ 2: æ›´æ–°ç¯å¢ƒå˜é‡

```env
R2_PUBLIC_URL="https://cdn.yourdomain.com"
```

### æ­¥éª¤ 3: é‡å¯åº”ç”¨

```bash
npm run dev
```

### æ­¥éª¤ 4: éªŒè¯

è®¿é—®ä»»æ„ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒURL åº”è¯¥å˜ä¸ºï¼š
```
https://cdn.yourdomain.com/images/categories/xxx.png
```

---

## æ•…éšœæ’é™¤

### é—®é¢˜ 1: ä¸Šä¼ æ—¶æŠ¥é”™ "R2 æœªé…ç½®"

**åŸå› **: ç¯å¢ƒå˜é‡æœªæ­£ç¡®è®¾ç½®

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ R2 é…ç½®
2. ç¡®ä¿æ‰€æœ‰å¿…éœ€å˜é‡éƒ½å·²å¡«å†™ï¼ˆAccount IDã€Access Keyã€Secret Keyã€Bucket Nameï¼‰
3. é‡å¯å¼€å‘æœåŠ¡å™¨

### é—®é¢˜ 2: ä¸Šä¼ æˆåŠŸä½†æ— æ³•è®¿é—®å›¾ç‰‡

**åŸå› **: Bucket æœªå¯ç”¨å…¬å¼€è®¿é—®

**è§£å†³æ–¹æ¡ˆ**:
1. è¿›å…¥ R2 Dashboard â†’ é€‰æ‹© bucket â†’ Settings
2. åœ¨ **Public access** éƒ¨åˆ†ï¼Œå¯ç”¨ **Allow Access**
3. ç¡®è®¤ç”Ÿæˆäº†å…¬å¼€åŸŸå

### é—®é¢˜ 3: å›¾ç‰‡ä¸Šä¼ åæ˜¾ç¤º 403 Forbidden

**åŸå› **: API Token æƒé™ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**:
1. é‡æ–°ç”Ÿæˆ API Token
2. ç¡®ä¿æƒé™è®¾ç½®ä¸º **Object Read & Write**
3. æ›´æ–° `.env` ä¸­çš„ Access Key å’Œ Secret Key

### é—®é¢˜ 4: ä¸Šä¼ æ—¶æŠ¥é”™ "InvalidAccessKeyId"

**åŸå› **: Access Key ID æˆ– Secret Access Key ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„å¯†é’¥æ˜¯å¦æ­£ç¡®
2. æ³¨æ„ä¸è¦åŒ…å«å¤šä½™çš„ç©ºæ ¼æˆ–å¼•å·
3. å¦‚æœå¯†é’¥ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°åˆ›å»º API Token

### é—®é¢˜ 5: å›¾ç‰‡åœ¨ Next.js Image ä¸­æ— æ³•æ˜¾ç¤º

**åŸå› **: åŸŸåæœªæ·»åŠ åˆ° `next.config.ts` çš„ `remotePatterns`

**è§£å†³æ–¹æ¡ˆ**:

ç¼–è¾‘ `next.config.ts`:

```typescript
images: {
  remotePatterns: [
    // å·²æœ‰çš„é…ç½®...
    {
      protocol: "https",
      hostname: "pub-*.r2.dev",  // R2 é»˜è®¤åŸŸå
    },
    // å¦‚æœä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼Œæ·»åŠ ï¼š
    // {
    //   protocol: "https",
    //   hostname: "cdn.yourdomain.com",
    // },
  ],
}
```

### é—®é¢˜ 6: CORS é”™è¯¯

**åŸå› **: R2 bucket çš„ CORS é…ç½®ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆ**:

1. è¿›å…¥ R2 Dashboard â†’ é€‰æ‹© bucket â†’ Settings
2. åœ¨ **CORS Policy** éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
[
  {
    "AllowedOrigins": ["https://yourdomain.com", "http://localhost:3000"],
    "AllowedMethods": ["GET", "PUT", "POST", "DELETE"],
    "AllowedHeaders": ["*"],
    "ExposeHeaders": ["ETag"],
    "MaxAgeSeconds": 3000
  }
]
```

---

## å®‰å…¨æœ€ä½³å®è·µ

### 1. ä¿æŠ¤ API å‡­æ®

âŒ **ä¸è¦**:
- åœ¨å‰ç«¯ä»£ç ä¸­æš´éœ² R2 å‡­æ®
- å°† `.env` æ–‡ä»¶æäº¤åˆ° Git
- åœ¨å…¬å¼€çš„åœ°æ–¹åˆ†äº« Secret Access Key

âœ… **åº”è¯¥**:
- ä»…åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨ R2 å‡­æ®
- å°† `.env` æ·»åŠ åˆ° `.gitignore`
- å®šæœŸè½®æ¢ API Token

### 2. æœ€å°æƒé™åŸåˆ™

- ä¸ºä¸åŒç”¨é€”åˆ›å»ºä¸åŒçš„ API Token
- åªæˆäºˆå¿…è¦çš„æƒé™ï¼ˆè¯»æˆ–å†™ï¼‰
- è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´

### 3. ç›‘æ§ä½¿ç”¨æƒ…å†µ

- å®šæœŸæ£€æŸ¥ R2 Dashboard çš„ä½¿ç”¨ç»Ÿè®¡
- è®¾ç½®è´¹ç”¨è­¦æŠ¥ï¼ˆå¦‚æœè¶…è¿‡å…è´¹é¢åº¦ï¼‰
- ç›‘æ§å¼‚å¸¸çš„ä¸Šä¼ æ´»åŠ¨

---

## æ€§èƒ½ä¼˜åŒ–

### 1. å›¾ç‰‡ä¼˜åŒ–

å»ºè®®åœ¨ä¸Šä¼ å‰ä¼˜åŒ–å›¾ç‰‡ï¼š

```typescript
// å¯ä»¥é›†æˆ sharp åº“è¿›è¡Œå›¾ç‰‡å‹ç¼©
import sharp from 'sharp'

const optimizedImage = await sharp(buffer)
  .resize(800, 600, { fit: 'inside' })
  .webp({ quality: 80 })
  .toBuffer()
```

### 2. ç¼“å­˜ç­–ç•¥

R2 é»˜è®¤ä½¿ç”¨é•¿æœŸç¼“å­˜ï¼ˆ1å¹´ï¼‰ï¼š

```typescript
cacheControl: 'public, max-age=31536000, immutable'
```

å¦‚æœéœ€è¦æ›´æ–°å›¾ç‰‡ï¼Œå»ºè®®ä½¿ç”¨æ–°çš„æ–‡ä»¶åï¼ˆå·²è‡ªåŠ¨æ·»åŠ æ—¶é—´æˆ³ï¼‰ã€‚

### 3. CDN é…ç½®

- ä½¿ç”¨è‡ªå®šä¹‰åŸŸåå¯ä»¥æ›´å¥½åœ°æ§åˆ¶ç¼“å­˜
- Cloudflare ä¼šè‡ªåŠ¨é€šè¿‡å…¨çƒ CDN åˆ†å‘
- å¯ä»¥åœ¨ Cloudflare Dashboard ä¸­è°ƒæ•´ç¼“å­˜è§„åˆ™

---

## æˆæœ¬ä¼°ç®—

### å…è´¹é¢åº¦

- å­˜å‚¨: 10 GB
- å†™æ“ä½œ: 100 ä¸‡æ¬¡/æœˆ
- è¯»æ“ä½œ: 1000 ä¸‡æ¬¡/æœˆ

### è¶…å‡ºå…è´¹é¢åº¦çš„è´¹ç”¨

- **å­˜å‚¨**: $0.015/GB/æœˆ
- **A ç±»æ“ä½œ** (PUT/POST/LIST): $4.50/ç™¾ä¸‡æ¬¡
- **B ç±»æ“ä½œ** (GET/HEAD): $0.36/ç™¾ä¸‡æ¬¡

### ç¤ºä¾‹è®¡ç®—

å‡è®¾ï¼š
- 1000 ä¸ªæ¸¸æˆï¼Œæ¯ä¸ª 3 å¼ å›¾ç‰‡
- å¹³å‡å›¾ç‰‡å¤§å°: 200 KB
- æœˆè®¿é—®é‡: 10 ä¸‡æ¬¡

**å­˜å‚¨æˆæœ¬**:
- æ€»å¤§å°: 3000 Ã— 200 KB = 600 MB = 0.6 GB
- è´¹ç”¨: å…è´¹ï¼ˆæœªè¶…è¿‡ 10 GBï¼‰

**æµé‡æˆæœ¬**:
- R2 å‡ºå£æµé‡å®Œå…¨å…è´¹
- **æ€»æˆæœ¬: $0**

---

## ç›¸å…³èµ„æº

- [Cloudflare R2 å®˜æ–¹æ–‡æ¡£](https://developers.cloudflare.com/r2/)
- [R2 å®šä»·è¯´æ˜](https://developers.cloudflare.com/r2/platform/pricing/)
- [AWS S3 SDK for JavaScript v3](https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/)
- [S3 API å…¼å®¹æ€§](https://developers.cloudflare.com/r2/api/s3/api/)

---

## å¸¸è§é—®é¢˜ (FAQ)

### Q: R2 å’Œ S3 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

A: R2 å®Œå…¨å…¼å®¹ S3 APIï¼Œä½†ä¸»è¦åŒºåˆ«æ˜¯ï¼š
- R2 å‡ºå£æµé‡å…è´¹ï¼ŒS3 æ”¶è´¹
- R2 å®šä»·æ›´ç®€å•ï¼Œæ²¡æœ‰å¤æ‚çš„å®šä»·å±‚çº§
- R2 è‡ªåŠ¨é›†æˆ Cloudflare CDN

### Q: å¯ä»¥ä» S3 è¿ç§»åˆ° R2 å—ï¼Ÿ

A: å¯ä»¥ï¼Œç”±äº API å…¼å®¹ï¼Œåªéœ€è¦ï¼š
1. å°†æ•°æ®ä» S3 å¤åˆ¶åˆ° R2
2. æ›´æ–°ç¯å¢ƒå˜é‡ä¸­çš„ç«¯ç‚¹å’Œå‡­æ®
3. ä»£ç æ— éœ€ä¿®æ”¹

### Q: R2 æ”¯æŒå“ªäº›åŒºåŸŸï¼Ÿ

A: R2 ä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³åŒºåŸŸï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚æ•°æ®ä¼šè‡ªåŠ¨å¤åˆ¶åˆ°å¤šä¸ªä½ç½®ä»¥ç¡®ä¿å¯ç”¨æ€§ã€‚

### Q: å¦‚ä½•åˆ é™¤æ—§çš„æœªä½¿ç”¨å›¾ç‰‡ï¼Ÿ

A: å¯ä»¥é€šè¿‡ R2 Dashboard æˆ–ä½¿ç”¨ `deleteFromR2()` å‡½æ•°ï¼š

```typescript
import { deleteFromR2 } from '@/lib/r2-upload'

await deleteFromR2('images/categories/old-icon.png')
```

---

**æœ€åæ›´æ–°**: 2025-01-20
**é€‚ç”¨ç‰ˆæœ¬**: RunGame v1.0+
