# Languagesè¡¨é‡å»ºæ€»ç»“æŠ¥å‘Š

**æ‰§è¡Œæ—¶é—´**: 2025-10-13 17:01
**æ‰§è¡Œäºº**: Claude Code
**æ“ä½œç±»å‹**: è¡¨ç»“æ„é‡å»ºï¼ˆè°ƒæ•´å­—æ®µé¡ºåºï¼‰

## âœ… é‡å»ºæˆåŠŸ

### æ‰§è¡Œæ­¥éª¤

1. **âœ… å¤‡ä»½æ•°æ®**
   - å¤‡ä»½æ–‡ä»¶: `languages-backup-2025-10-13T17-00-59-980Z.json`
   - å¤‡ä»½è®°å½•: 15æ¡è¯­è¨€æ•°æ®
   - æ‰€æœ‰æ•°æ®å®Œæ•´ä¿å­˜

2. **âœ… åˆ›å»ºæ–°è¡¨**
   - æŒ‰ç…§Prisma Schemaå®šä¹‰çš„é¡ºåºåˆ›å»ºæ–°è¡¨ç»“æ„
   - è¡¨å: `languages_new`

3. **âœ… æ•°æ®è¿ç§»**
   - ä»æ—§è¡¨å¤åˆ¶æ‰€æœ‰15æ¡è®°å½•åˆ°æ–°è¡¨
   - æ•°æ®å®Œæ•´æ€§: 100%

4. **âœ… è¡¨æ›¿æ¢**
   - åˆ é™¤æ—§è¡¨: `languages`
   - é‡å‘½åæ–°è¡¨: `languages_new` â†’ `languages`

5. **âœ… é‡å»ºç´¢å¼•**
   - `languages_code_key` (UNIQUE)
   - `languages_is_enabled_idx`
   - `languages_is_default_idx`
   - `languages_sort_order_idx`

6. **âœ… éªŒè¯æ•°æ®**
   - å­—æ®µé¡ºåº: æ­£ç¡® âœ…
   - æ•°æ®å®Œæ•´æ€§: 15/15æ¡è®°å½• âœ…
   - ç´¢å¼•: å…¨éƒ¨é‡å»ºæˆåŠŸ âœ…

## å­—æ®µé¡ºåºå¯¹æ¯”

### é‡å»ºå‰ï¼ˆæ—§é¡ºåºï¼‰

```
 1. id
 2. code
 3. name
 4. native_name
 5. flag
 6. locale_code
 7. is_default
 8. is_enabled
 9. sort_order
10. direction
11. created_at
12. updated_at
13. name_cn          â† åœ¨æœ€æœ«å°¾ï¼ˆä¸ç¬¦åˆSchemaå®šä¹‰ï¼‰
```

### é‡å»ºåï¼ˆæ–°é¡ºåºï¼‰

```
 1. id
 2. code
 3. name
 4. name_cn          â† å·²è°ƒæ•´åˆ°æ­£ç¡®ä½ç½® âœ…
 5. native_name
 6. flag
 7. locale_code
 8. is_default
 9. is_enabled
10. sort_order
11. direction
12. created_at
13. updated_at
```

## æ•°æ®éªŒè¯ç»“æœ

### è¯­è¨€åˆ—è¡¨ï¼ˆ15æ¡è®°å½•ï¼‰

| # | çŠ¶æ€ | æ——å¸œ | è‹±æ–‡å | ä¸­æ–‡å | åŸç”Ÿå |
|---|------|------|--------|--------|--------|
| 1 | â­âœ… | ğŸ‡¬ğŸ‡§ | English | è‹±è¯­ | English |
| 2 | âœ… | ğŸ‡¨ğŸ‡³ | Chinese | ä¸­æ–‡ | ä¸­æ–‡ |
| 3 | âŒ | ğŸ‡ªğŸ‡¸ | Spanish | è¥¿ç­ç‰™è¯­ | EspaÃ±ol |
| 4 | âŒ | ğŸ‡§ğŸ‡· | Portuguese | è‘¡è„ç‰™è¯­ | PortuguÃªs |
| 5 | âŒ | ğŸ‡«ğŸ‡· | French | æ³•è¯­ | FranÃ§ais |
| 6 | âŒ | ğŸ‡©ğŸ‡ª | German | å¾·è¯­ | Deutsch |
| 7 | âŒ | ğŸ‡¯ğŸ‡µ | Japanese | æ—¥è¯­ | æ—¥æœ¬èª |
| 8 | âŒ | ğŸ‡°ğŸ‡· | Korean | éŸ©è¯­ | í•œêµ­ì–´ |
| 9 | âŒ | ğŸ‡¸ğŸ‡¦ | Arabic | é˜¿æ‹‰ä¼¯è¯­ | Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© |
| 10 | âŒ | ğŸ‡·ğŸ‡º | Russian | ä¿„è¯­ | Ğ ÑƒÑÑĞºĞ¸Ğ¹ |
| 11 | âŒ | ğŸ‡®ğŸ‡¹ | Italian | æ„å¤§åˆ©è¯­ | Italiano |
| 12 | âŒ | ğŸ‡³ğŸ‡± | Dutch | è·å…°è¯­ | Nederlands |
| 13 | âŒ | ğŸ‡¹ğŸ‡· | Turkish | åœŸè€³å…¶è¯­ | TÃ¼rkÃ§e |
| 14 | âŒ | ğŸ‡µğŸ‡± | Polish | æ³¢å…°è¯­ | Polski |
| 15 | âŒ | ğŸ‡»ğŸ‡³ | Vietnamese | è¶Šå—è¯­ | Tiáº¿ng Viá»‡t |

**è¯´æ˜**:
- â­ = é»˜è®¤è¯­è¨€
- âœ… = å·²å¯ç”¨
- âŒ = å·²ç¦ç”¨

### æ•°æ®å®Œæ•´æ€§æ£€æŸ¥

- âœ… è®°å½•æ€»æ•°: 15æ¡ï¼ˆä¸å¤‡ä»½ä¸€è‡´ï¼‰
- âœ… æ‰€æœ‰å­—æ®µæ•°æ®å®Œæ•´
- âœ… æ‰€æœ‰ä¸­æ–‡åç§°æ­£ç¡®
- âœ… ç´¢å¼•å…¨éƒ¨é‡å»º
- âœ… æ— æ•°æ®ä¸¢å¤±

## å½±å“èŒƒå›´

### å½±å“çš„ç³»ç»Ÿ

- âœ… Next.jsåº”ç”¨
- âœ… Prisma Client
- âœ… æ•°æ®åº“æŸ¥è¯¢

### ä¸å—å½±å“çš„éƒ¨åˆ†

- âœ… åº”ç”¨åŠŸèƒ½ï¼ˆå­—æ®µé¡ºåºä¸å½±å“æŸ¥è¯¢ï¼‰
- âœ… APIæ¥å£ï¼ˆPrismaä½¿ç”¨å­—æ®µåè€Œéä½ç½®ï¼‰
- âœ… ç°æœ‰ä»£ç ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰

## åç»­æ“ä½œ

### å·²å®Œæˆ

1. âœ… é‡æ–°ç”ŸæˆPrisma Client (`npx prisma generate`)
2. âœ… æ•°æ®éªŒè¯é€šè¿‡
3. âœ… å¤‡ä»½æ–‡ä»¶ä¿å­˜

### å»ºè®®

1. **ä¿ç•™å¤‡ä»½æ–‡ä»¶**: `languages-backup-2025-10-13T17-00-59-980Z.json`
   - ä½ç½®: `/Users/yangnie/Desktop/game/rungame-nextjs/`
   - ç”¨é€”: å¦‚éœ€å›æ»šå¯ä½¿ç”¨æ­¤å¤‡ä»½

2. **æµ‹è¯•åº”ç”¨**: å¯åŠ¨åº”ç”¨éªŒè¯æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
   ```bash
   npm run dev
   ```

3. **æ›´æ–°æ–‡æ¡£**: è®°å½•æ­¤æ¬¡å˜æ›´ï¼ˆå·²å®Œæˆï¼‰

## æŠ€æœ¯ç»†èŠ‚

### SQLæ“ä½œ

```sql
BEGIN;

-- åˆ›å»ºæ–°è¡¨
CREATE TABLE languages_new (...);

-- å¤åˆ¶æ•°æ®
INSERT INTO languages_new SELECT * FROM languages;

-- æ›¿æ¢è¡¨
DROP TABLE languages;
ALTER TABLE languages_new RENAME TO languages;

-- é‡å»ºç´¢å¼•
CREATE UNIQUE INDEX languages_code_key ON languages(code);
CREATE INDEX languages_is_enabled_idx ON languages(is_enabled);
CREATE INDEX languages_is_default_idx ON languages(is_default);
CREATE INDEX languages_sort_order_idx ON languages(sort_order);

COMMIT;
```

### äº‹åŠ¡ä¿æŠ¤

- âœ… ä½¿ç”¨äº‹åŠ¡ç¡®ä¿åŸå­æ€§
- âœ… å¤±è´¥è‡ªåŠ¨å›æ»š
- âœ… æ•°æ®å®‰å…¨æ€§é«˜

## æ€»ç»“

âœ… **é‡å»ºæˆåŠŸï¼**

- å­—æ®µé¡ºåºå·²è°ƒæ•´ä¸ºä¸Prisma Schemaå®šä¹‰ä¸€è‡´
- `name_cn` å­—æ®µç°åœ¨ä½äºç¬¬4ä½ï¼ˆ`name`å­—æ®µä¹‹åï¼‰
- æ‰€æœ‰15æ¡è¯­è¨€æ•°æ®å®Œæ•´æ— æŸ
- ç´¢å¼•å…¨éƒ¨é‡å»ºæˆåŠŸ
- åº”ç”¨æ— éœ€ä¿®æ”¹ä»£ç 

**ä¼˜åŠ¿**:
- ğŸ¯ å­—æ®µé¡ºåºæ›´ç¬¦åˆé€»è¾‘
- ğŸ“Š Prisma Studioæ˜¾ç¤ºæ›´ç¾è§‚
- ğŸ” æ•°æ®åº“ç®¡ç†å·¥å…·æŸ¥çœ‹æ›´æ¸…æ™°
- âœ¨ ä¸Schemaå®šä¹‰ä¿æŒä¸€è‡´

---

**å¤‡æ³¨**: æ­¤æ¬¡æ“ä½œåœ¨å¼€å‘ç¯å¢ƒå®Œæˆï¼Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¯·ç¡®ä¿åœ¨æµ‹è¯•ç¯å¢ƒå……åˆ†éªŒè¯ã€‚
